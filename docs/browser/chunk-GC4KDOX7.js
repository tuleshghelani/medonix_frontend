import{A as c,ac as i,bb as h,g as l,j as n,x as a}from"./chunk-RL35WT5O.js";var f=(()=>{class o{constructor(){this.initialState={isOpen:!1,modalType:void 0,data:void 0},this.modalState=new l(this.initialState),this.modalState$=this.modalState.asObservable()}open(t,e){document.body.style.overflow="hidden",this.modalState.next({isOpen:!0,modalType:t,data:e})}close(){document.body.style.overflow="auto",this.modalState.next(this.initialState)}getData(){return this.modalState.value.data}getModalType(){return this.modalState.value.modalType}isOpen(){return this.modalState.value.isOpen}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var $=(()=>{class o{constructor(t){this.http=t,this.apiUrl=`${i.apiUrl}/api/sales`}searchSales(t){return this.http.post(`${this.apiUrl}/searchSale`,t)}createSale(t){return this.http.post(`${this.apiUrl}/create`,t)}updateSale(t){return this.http.post(`${this.apiUrl}/create`,t)}deleteSale(t){return this.http.delete(`${this.apiUrl}/${t}`)}getSaleDetails(t,e=!1){return this.http.post(`${this.apiUrl}/detail`,{id:t,isSalesReturn:e})}createSaleReturn(t){return this.http.post(`${i.apiUrl}/api/sale-returns/create`,t)}searchSaleReturn(t){return this.http.post(`${i.apiUrl}/api/sale-returns/searchSaleReturn`,t)}deleteSaleReturn(t){return this.http.post(`${i.apiUrl}/api/sale-returns/delete`,{id:t})}getSaleReturnDetail(t){return this.http.post(`${i.apiUrl}/api/sale-returns/detail`,{id:t})}createFromQuotationItems(t,e){let s={quotationItemIds:t};return e!=null&&(s.packagingAndForwadingCharges=e),this.http.post(`${this.apiUrl}/createFromQuotationItems`,s)}generatePdf(t){return this.http.post(`${this.apiUrl}/generate-pdf`,{id:t},{responseType:"blob",observe:"response"}).pipe(n(e=>{let r=e.headers.get("Content-Disposition")?.split("filename=")[1]?.replace(/"/g,"")||"sale.pdf";return{blob:new Blob([e.body],{type:"application/pdf"}),filename:r}}))}generateSaleReturnPdf(t){return this.http.post(`${i.apiUrl}/api/sale-returns/generate-pdf`,{id:t},{responseType:"blob",observe:"response"}).pipe(n(e=>{let r=e.headers.get("Content-Disposition")?.split("filename=")[1]?.replace(/"/g,"")||"sale-return.pdf";return{blob:new Blob([e.body],{type:"application/pdf"}),filename:r}}))}exportExcel(t){return this.http.post(`${this.apiUrl}/export-excel`,t,{responseType:"blob",observe:"response"}).pipe(n(e=>{let r=e.headers.get("Content-Disposition")?.split("filename=")[1]?.replace(/"/g,"")||`sale_export_${t.startDate}_${t.endDate}.xlsx`;return{blob:new Blob([e.body],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),filename:r}}))}exportSaleReturnExcel(t){return this.http.post(`${i.apiUrl}/api/sale-returns/export-excel`,t,{responseType:"blob",observe:"response"}).pipe(n(e=>{let r=e.headers.get("Content-Disposition")?.split("filename=")[1]?.replace(/"/g,"")||`sale_return_export_${t.startDate}_${t.endDate}.xlsx`;return{blob:new Blob([e.body],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),filename:r}}))}static{this.\u0275fac=function(e){return new(e||o)(c(h))}}static{this.\u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{f as a,$ as b};
