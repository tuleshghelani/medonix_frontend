import{A as u,Yb as r,_a as h,j as o,x as a}from"./chunk-I5Z7G3ET.js";var l=function(e){return e.Q="Quote",e.A="Accepted",e.D="Declined",e.P="Processing",e.C="Completed",e.I="Invoiced",e}(l||{});var b=(()=>{class e{constructor(t){this.http=t,this.apiUrl=`${r.apiUrl}/api/quotations`,this.quotationItemsApiUrl=`${r.apiUrl}/api/quotation-items`}createQuotation(t){return this.http.post(`${this.apiUrl}/create`,t)}updateQuotation(t,i){return i.quotationId=t,this.http.put(`${this.apiUrl}/update`,i)}searchQuotations(t){return this.http.post(`${this.apiUrl}/search`,t)}deleteQuotation(t){return this.http.post(`${this.apiUrl}/delete`,{quotationId:t})}generatePdf(t){return this.http.post(`${this.apiUrl}/generate-pdf`,{id:t},{responseType:"blob",observe:"response"}).pipe(o(i=>{let p=i.headers.get("Content-Disposition")?.split("filename=")[1]?.replace(/"/g,"");return{blob:new Blob([i.body],{type:"application/pdf"}),filename:p}}))}generateDispatchPdf(t,i){return this.http.post(`${this.apiUrl}/generate-dispatch-slip`,{id:t,quotationItemIds:i},{responseType:"blob",observe:"response"}).pipe(o(s=>{let n=s.headers.get("Content-Disposition")?.split("filename=")[1]?.replace(/"/g,"")||"dispatch-slip.pdf";return{blob:new Blob([s.body],{type:"application/pdf"}),filename:n}}))}updateQuotationStatus(t,i){return this.http.put(`${this.apiUrl}/update-status`,{id:t,status:i})}getQuotationDetail(t){return this.http.post(`${this.apiUrl}/detail`,{id:t}).pipe(o(i=>i&&i.data?{success:!0,data:i.data}:{success:!1,message:"Invalid response format"}))}updateQuotationItemStatus(t,i){return this.http.put(`${this.quotationItemsApiUrl}/status`,{id:t,quotationItemStatus:i})}updateQuotationItemProduction(t,i){return this.http.put(`${this.quotationItemsApiUrl}/production`,{id:t,isProduction:i})}searchQuotationItemsWithDetails(t){return this.http.post(`${this.quotationItemsApiUrl}/search-with-details`,t)}searchPendingItems(t){return this.http.post(`${this.quotationItemsApiUrl}/pending-item/search`,t)}getStatusChartData(t){return this.http.post(`${this.apiUrl}/charts/status`,t)}updateQuotationItemQuantity(t,i){return this.http.put(`${this.quotationItemsApiUrl}/quantity`,{id:t,quantity:i})}updateQuotationItemDispatch(t,i){return this.http.put(`${this.quotationItemsApiUrl}/dispatch`,{id:t,isDispatch:i})}updateQuotationItemProductionStatus(t,i){return this.http.put(`${this.quotationItemsApiUrl}/production`,{id:t,isProduction:i})}updateQuotationItemCreatedRoll(t,i){return this.http.put(`${this.quotationItemsApiUrl}/created-roll`,{id:t,createdRoll:i})}static{this.\u0275fac=function(i){return new(i||e)(u(h))}}static{this.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{l as a,b};
