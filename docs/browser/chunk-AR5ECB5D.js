import{$a as c,$b as h,A as i,_b as s,h as a,v as n,x as p}from"./chunk-EXIQFNRY.js";var U=(()=>{class r{constructor(t,e){this.http=t,this.encryptionService=e,this.apiUrl=`${s.apiUrl}/api/transports`,this.CACHE_KEY="active_transports"}create(t){return this.http.post(this.apiUrl,t)}update(t){return this.http.put(this.apiUrl,t)}delete(t){return this.http.request("DELETE",this.apiUrl,{body:{id:t}})}getTransports(t){if(t?.status==="A"){let e=localStorage.getItem(this.CACHE_KEY);if(e){let o=this.encryptionService.decrypt(e);if(o)return a(o)}}return this.http.post(`${this.apiUrl}/getTransports`,{search:t?.search}).pipe(n(e=>{if(t?.status==="A"&&e?.success){let o=this.encryptionService.encrypt(e);localStorage.setItem(this.CACHE_KEY,o)}}))}refreshTransports(){return localStorage.removeItem(this.CACHE_KEY),this.getTransports({status:"A"})}search(t){return this.http.post(`${this.apiUrl}/search`,t)}details(t){return this.http.post(`${this.apiUrl}/details`,{id:t})}static{this.\u0275fac=function(e){return new(e||r)(i(c),i(h))}}static{this.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var v=(()=>{class r{constructor(t){this.http=t,this.apiUrl=`${s.apiUrl}/api/price`,this.customerPricesApiUrl=`${s.apiUrl}/api/customer-prices`}getLatestPrices(t){return this.http.post(`${this.apiUrl}/latest`,t)}getCustomerPrice(t){return this.http.post(`${this.customerPricesApiUrl}/get`,t)}searchCustomerPrices(t){return this.http.post(`${this.customerPricesApiUrl}/search`,t)}getProductsWithPrices(t){return this.http.post(`${this.customerPricesApiUrl}/products-with-prices`,t)}saveCustomerPrice(t){return this.http.post(this.customerPricesApiUrl,t)}deleteCustomerPrice(t){return this.http.post(`${this.customerPricesApiUrl}/delete`,{id:t})}static{this.\u0275fac=function(e){return new(e||r)(i(c))}}static{this.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{U as a,v as b};
