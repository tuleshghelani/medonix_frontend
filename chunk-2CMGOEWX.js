import{Bb as T,C as M,Cb as z,Da as F,Fb as Y,G as y,H as m,I as p,Ib as D,L as b,Nb as G,Qb as L,Ra as N,S as r,Sb as j,T as O,Ta as I,Ya as S,_ as u,aa as d,ca as v,fa as o,ga as a,ha as s,ka as k,kb as V,lb as x,na as f,nb as C,oa as g,pb as P,ua as l,ub as A,vb as h,wa as w,wb as q,xb as E}from"./chunk-HPAYHAKH.js";function B(i,_){i&1&&(o(0,"div",22),l(1," Invoice number is required "),a())}function R(i,_){if(i&1&&(o(0,"div",8)(1,"label",19),s(2,"i",20),l(3," Invoice Number "),o(4,"span",11),l(5,"*"),a()(),s(6,"input",21),u(7,B,2,0,"div",13),a()),i&2){let e,n,t=g(2);r(6),v("is-invalid",((e=t.chargesForm.get("invoiceNumber"))==null?null:e.invalid)&&((e=t.chargesForm.get("invoiceNumber"))==null?null:e.touched)),r(),d("ngIf",(n=t.chargesForm.get("invoiceNumber"))==null||n.errors==null?null:n.errors.required)}}function H(i,_){i&1&&(o(0,"div",22),l(1," Packaging and forwarding charges is required "),a())}function J(i,_){i&1&&(o(0,"div",22),l(1," Charges must be 0 or greater "),a())}function K(i,_){if(i&1){let e=k();o(0,"div",1),f("click",function(){m(e);let t=g();return p(t.onCancel())}),o(1,"div",2),f("click",function(t){return m(e),p(t.stopPropagation())}),o(2,"div",3)(3,"h3"),s(4,"i",4),l(5," Packaging & Forwarding Charges"),a()(),o(6,"form",5),f("ngSubmit",function(){m(e);let t=g();return p(t.onSubmit())}),o(7,"div",6),u(8,R,8,3,"div",7),o(9,"div",8)(10,"label",9),s(11,"i",10),l(12," Packaging & Forwarding Charges "),o(13,"span",11),l(14,"*"),a()(),s(15,"input",12),u(16,H,2,0,"div",13)(17,J,2,0,"div",13),a()(),o(18,"div",14)(19,"button",15),f("click",function(){m(e);let t=g();return p(t.onCancel())}),s(20,"i",16),l(21," Cancel "),a(),o(22,"button",17),s(23,"i",18),l(24),a()()()()()}if(i&2){let e,n,t,c=g();r(),d("@modalAnimation",void 0),r(5),d("formGroup",c.chargesForm),r(2),d("ngIf",c.requireInvoiceNumber),r(7),v("is-invalid",((e=c.chargesForm.get("packagingAndForwadingCharges"))==null?null:e.invalid)&&((e=c.chargesForm.get("packagingAndForwadingCharges"))==null?null:e.touched)),r(),d("ngIf",(n=c.chargesForm.get("packagingAndForwadingCharges"))==null||n.errors==null?null:n.errors.required),r(),d("ngIf",(t=c.chargesForm.get("packagingAndForwadingCharges"))==null||t.errors==null?null:t.errors.min),r(5),d("disabled",c.chargesForm.invalid||c.isLoading),r(),d("ngClass",c.isLoading?"fa-spinner fa-spin":"fa-check"),r(),w(" ",c.isLoading?"Creating...":"Create Sale"," ")}}var oe=(()=>{class i{constructor(e){this.fb=e,this.show=!1,this.defaultCharges=0,this.requireInvoiceNumber=!1,this.confirm=new b,this.cancel=new b,this.isLoading=!1,this.chargesForm=this.fb.group({invoiceNumber:[""],packagingAndForwadingCharges:[0,[h.required,h.min(0)]]})}ngOnChanges(){if(this.show){let e=this.chargesForm.get("invoiceNumber");this.requireInvoiceNumber?e?.setValidators([h.required]):e?.clearValidators(),e?.updateValueAndValidity(),this.chargesForm.patchValue({packagingAndForwadingCharges:this.defaultCharges!==void 0?this.defaultCharges:0,invoiceNumber:""})}}onCancel(){this.cancel.emit()}onSubmit(){if(this.chargesForm.valid){let e=Number(this.chargesForm.get("packagingAndForwadingCharges")?.value||0);if(this.requireInvoiceNumber&&this.orderId!==void 0&&this.orderId!==null){let n=this.chargesForm.get("invoiceNumber")?.value||"";this.confirm.emit({id:this.orderId,invoiceNumber:n,packagingAndForwadingCharges:e})}else this.confirm.emit(e)}else this.chargesForm.markAllAsTouched()}static{this.\u0275fac=function(n){return new(n||i)(O(L))}}static{this.\u0275cmp=M({type:i,selectors:[["app-packaging-charges-modal"]],inputs:{show:"show",defaultCharges:"defaultCharges",requireInvoiceNumber:"requireInvoiceNumber",orderId:"orderId"},outputs:{confirm:"confirm",cancel:"cancel"},standalone:!0,features:[y,F],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"fas","fa-box"],[3,"ngSubmit","formGroup"],[1,"modal-body"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","packagingAndForwadingCharges"],[1,"fas","fa-rupee-sign"],[1,"required"],["type","number","id","packagingAndForwadingCharges","formControlName","packagingAndForwadingCharges","min","0","step","0.01","placeholder","Enter packaging and forwarding charges",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"modal-actions"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas",3,"ngClass"],["for","invoiceNumber"],[1,"fas","fa-file-invoice"],["type","text","id","invoiceNumber","formControlName","invoiceNumber","placeholder","Enter invoice number",1,"form-control"],[1,"invalid-feedback"]],template:function(n,t){n&1&&u(0,K,25,10,"div",0),n&2&&d("ngIf",t.show)},dependencies:[S,N,I,j,T,A,z,q,E,G,Y,D],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 4px 6px #0000001a;animation:_ngcontent-%COMP%_modalIn .2s ease-out}.modal-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #dee2e6;background-color:var(--secondary, #17a3df);color:#fff;border-radius:8px 8px 0 0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:var(--text-primary, #2c3e50);font-weight:500;font-size:14px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px;color:var(--primary, #145881)}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc3545}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid var(--supporting, #90a4ae);border-radius:4px;font-size:14px;transition:all .3s ease;box-sizing:border-box}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary, #145881);box-shadow:0 0 0 3px #1458811a}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:4px;display:block}.modal-actions[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-top:1px solid #dee2e6;display:flex;justify-content:flex-end;gap:1rem}.modal-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-weight:500;display:flex;align-items:center;gap:6px;transition:all .3s ease;font-size:14px}.modal-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.modal-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modal-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:var(--secondary, #17a3df);color:#fff}.modal-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1281b1}.modal-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary, #145881);color:#fff}.modal-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0d3a55}@keyframes _ngcontent-%COMP%_modalIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 576px){.modal-content[_ngcontent-%COMP%]{width:95%;max-width:95%}}"],data:{animation:[V("modalAnimation",[P(":enter",[C({opacity:0,transform:"translateY(-20px)"}),x("200ms ease-out",C({opacity:1,transform:"translateY(0)"}))]),P(":leave",[x("150ms ease-in",C({opacity:0,transform:"translateY(-20px)"}))])])]}})}}return i})();export{oe as a};
