import{b as pt,c as U,d as G}from"./chunk-KTUBRXAC.js";import{$a as rt,$b as D,A as nt,Bb as A,C as B,Cb as at,D as E,Ea as ot,Fb as V,H as u,I as _,Ib as j,Na as F,Nb as st,Ob as dt,Qb as R,Ra as L,S as r,Sa as ct,Sb as lt,T as p,Ta as Q,Tb as mt,Vb as $,Wb as gt,Ya as it,Zb as x,_ as C,_b as ht,aa as d,ca as O,f as w,fa as o,ga as c,ha as l,ka as v,na as g,o as tt,oa as h,q as X,u as f,ua as a,ub as N,uc as q,va as k,vb as M,vc as S,wa as P,wb as T,x as et,xb as z,xc as y,y as I}from"./chunk-LKYSYCMW.js";var Y=(()=>{class i{constructor(t){this.http=t,this.apiUrl=`${ht.apiUrl}/api/product-batch-stock`}createProductBatchStock(t){return this.http.post(`${this.apiUrl}/create`,t)}updateProductBatchStock(t){return this.http.post(`${this.apiUrl}/update`,t)}deleteProductBatchStock(t){return this.http.post(`${this.apiUrl}/delete`,{id:t})}searchProductBatchStock(t){return this.http.post(`${this.apiUrl}/search`,t)}getProductBatchStockById(t){return this.http.post(`${this.apiUrl}/get-by-id`,{id:t})}getProductBatchStockByProduct(t){return this.http.post(`${this.apiUrl}/get-by-product`,{productId:t})}static{this.\u0275fac=function(n){return new(n||i)(nt(rt))}}static{this.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var vt=()=>({label:"All Products",value:""});function xt(i,b){if(i&1){let t=v();o(0,"button",29),g("click",function(){u(t);let e=h();return _(e.addBatchStock())})("touchstart",function(e){return u(t),_(e.stopPropagation())}),l(1,"i",30),a(2," Add Batch Stock "),c()}}function wt(i,b){if(i&1&&(o(0,"p",31),a(1," Showing "),o(2,"strong"),a(3),c(),a(4," to "),o(5,"strong"),a(6),c(),a(7," of "),o(8,"strong"),a(9),c(),a(10," batch stock entries "),c()),i&2){let t=h();r(3),k(t.startIndex+1),r(3),k(t.endIndex),r(3),k(t.totalElements)}}function It(i,b){i&1&&(o(0,"span"),a(1,'Click "Add Batch Stock" to create a new entry.'),c())}function Bt(i,b){if(i&1&&(o(0,"p",32),a(1," No batch stock entries found. "),C(2,It,2,0,"span",33),c()),i&2){let t=h();r(2),d("ngIf",t.canManageStock)}}function Et(i,b){i&1&&(o(0,"th",40),a(1,"Actions"),c())}function Ft(i,b){if(i&1){let t=v();o(0,"td",52)(1,"button",53),g("click",function(){u(t);let e=h().$implicit,s=h(2);return _(s.editBatchStock(e.id))})("touchstart",function(e){return u(t),_(e.stopPropagation())}),l(2,"i",54),c(),o(3,"button",55),g("click",function(){u(t);let e=h().$implicit,s=h(2);return _(s.deleteBatchStock(e.id))})("touchstart",function(e){return u(t),_(e.stopPropagation())}),l(4,"i",56),c()()}}function Lt(i,b){if(i&1&&(o(0,"tr",41)(1,"td",42)(2,"strong"),a(3),c()(),o(4,"td",43)(5,"strong"),a(6),c()(),o(7,"td",44),a(8),c(),o(9,"td",45)(10,"span",46),a(11),c()(),o(12,"td",47)(13,"span",48),a(14),c()(),o(15,"td",49)(16,"strong",50),a(17),c()(),C(18,Ft,5,0,"td",51),c()),i&2){let t=b.$implicit,n=b.index,e=h(2);r(3),k(e.startIndex+n+1),r(3),k(t.batchName),r(2),P(" ",t.productName||e.getProductName(t.productId)," "),r(3),k(e.formatNumber(t.remainingQuantity)),r(3),k(e.formatNumber(t.blockedQuantity)),r(3),k(e.formatNumber(t.totalRemainingQuantity)),r(),d("ngIf",e.canManageStock)}}function Qt(i,b){if(i&1){let t=v();o(0,"div",34)(1,"table",35)(2,"thead")(3,"tr")(4,"th",36),g("click",function(){u(t);let e=h();return _(e.onSort("id"))}),o(5,"span"),a(6,"No"),c(),l(7,"i",37),c(),o(8,"th",36),g("click",function(){u(t);let e=h();return _(e.onSort("batchName"))}),o(9,"span"),a(10,"Batch Name"),c(),l(11,"i",37),c(),o(12,"th",36),g("click",function(){u(t);let e=h();return _(e.onSort("productId"))}),o(13,"span"),a(14,"Product Name"),c(),l(15,"i",37),c(),o(16,"th",36),g("click",function(){u(t);let e=h();return _(e.onSort("remainingQuantity"))}),o(17,"span"),a(18,"Remaining Quantity"),c(),l(19,"i",37),c(),o(20,"th",36),g("click",function(){u(t);let e=h();return _(e.onSort("blockedQuantity"))}),o(21,"span"),a(22,"Blocked Quantity"),c(),l(23,"i",37),c(),o(24,"th",36),g("click",function(){u(t);let e=h();return _(e.onSort("totalRemainingQuantity"))}),o(25,"span"),a(26,"Total Quantity"),c(),l(27,"i",37),c(),C(28,Et,2,0,"th",38),c()(),o(29,"tbody"),C(30,Lt,19,7,"tr",39),c()()()}if(i&2){let t=h();r(7),d("ngClass",t.getSortIcon("id")),r(4),d("ngClass",t.getSortIcon("batchName")),r(4),d("ngClass",t.getSortIcon("productId")),r(4),d("ngClass",t.getSortIcon("remainingQuantity")),r(4),d("ngClass",t.getSortIcon("blockedQuantity")),r(4),d("ngClass",t.getSortIcon("totalRemainingQuantity")),r(),d("ngIf",t.canManageStock),r(2),d("ngForOf",t.batchStocks)}}function Nt(i,b){if(i&1){let t=v();o(0,"app-pagination",57),g("pageChange",function(e){u(t);let s=h();return _(s.onPageChange(e))})("pageSizeChange",function(e){u(t);let s=h();return _(s.onPageSizeChange(e))}),c()}if(i&2){let t=h();d("currentPage",t.currentPage)("pageSize",t.pageSize)("totalElements",t.totalElements)("pageSizeOptions",t.pageSizeOptions)}}var _t=(()=>{class i{constructor(t,n,e,s,m,H,J,W){this.productBatchStockService=t,this.productService=n,this.fb=e,this.snackbar=s,this.encryptionService=m,this.router=H,this.authService=J,this.cdr=W,this.batchStocks=[],this.isLoading=!1,this.currentPage=0,this.pageSize=10,this.pageSizeOptions=[5,10,25,50,100],this.totalPages=0,this.totalElements=0,this.startIndex=0,this.endIndex=0,this.products=[],this.isLoadingProducts=!1,this.canManageStock=!1,this.sortBy="id",this.sortDir="desc",this.destroy$=new w,this.productMap=new Map,this.initializeForm()}ngOnInit(){this.canManageStock=this.authService.isAdmin()||this.authService.isStaffAdmin(),this.loadProducts(),this.setupSearchDebounce(),this.loadBatchStocks()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.productMap.clear()}initializeForm(){this.searchForm=this.fb.group({search:[""],productId:[""]})}setupSearchDebounce(){this.searchForm.get("search")?.valueChanges.pipe(f(this.destroy$),tt(500),X()).subscribe(()=>{this.currentPage=0,this.loadBatchStocks()}),this.searchForm.get("productId")?.valueChanges.pipe(f(this.destroy$),X()).subscribe(()=>{this.currentPage=0,this.loadBatchStocks()})}loadBatchStocks(){this.isLoading=!0;let t=this.searchForm.value,n={page:this.currentPage,size:this.pageSize,sortBy:this.sortBy,sortDir:this.sortDir,search:t.search?.trim()||void 0,productId:t.productId?Number(t.productId):void 0};Object.keys(n).forEach(e=>{n[e]===void 0&&delete n[e]}),this.productBatchStockService.searchProductBatchStock(n).pipe(f(this.destroy$)).subscribe({next:e=>{this.batchStocks=e.content||[],this.totalPages=e.totalPages||0,this.totalElements=e.totalElements||0,this.updatePaginationIndexes(),this.isLoading=!1,this.cdr.markForCheck()},error:e=>{this.snackbar.error(e?.error?.message||"Failed to load batch stock data"),this.isLoading=!1,this.cdr.markForCheck()}})}updatePaginationIndexes(){this.startIndex=this.currentPage*this.pageSize,this.endIndex=Math.min((this.currentPage+1)*this.pageSize,this.totalElements)}onSearch(t){t&&(t.preventDefault(),t.stopPropagation()),this.currentPage=0,this.loadBatchStocks()}resetForm(){this.searchForm.reset(),this.currentPage=0,this.sortBy="id",this.sortDir="desc",this.loadBatchStocks()}onPageChange(t){this.currentPage=t,this.loadBatchStocks()}onPageSizeChange(t){this.pageSize=t,this.currentPage=0,this.loadBatchStocks()}onSort(t){this.sortBy===t?this.sortDir=this.sortDir==="asc"?"desc":"asc":(this.sortBy=t,this.sortDir="asc"),this.currentPage=0,this.loadBatchStocks()}getSortIcon(t){return this.sortBy!==t?"fa-sort":this.sortDir==="asc"?"fa-sort-up":"fa-sort-down"}loadProducts(){this.isLoadingProducts=!0,this.productService.getProducts({status:"A"}).pipe(f(this.destroy$)).subscribe({next:t=>{t?.success&&t.data&&(this.products=t.data,this.buildProductMap()),this.isLoadingProducts=!1,this.cdr.markForCheck()},error:()=>{this.snackbar.error("Failed to load products"),this.isLoadingProducts=!1,this.cdr.markForCheck()}})}buildProductMap(){this.productMap.clear();for(let t of this.products)this.productMap.set(t.id,t)}getProductName(t){return this.productMap.get(t)?.name||"N/A"}refreshProducts(){this.isLoadingProducts=!0,this.productService.refreshProducts().pipe(f(this.destroy$)).subscribe({next:t=>{t?.success&&t.data&&(this.products=t.data,this.buildProductMap(),this.snackbar.success("Products refreshed successfully")),this.isLoadingProducts=!1,this.cdr.markForCheck()},error:()=>{this.snackbar.error("Failed to refresh products"),this.isLoadingProducts=!1,this.cdr.markForCheck()}})}addBatchStock(){this.router.navigate(["/product-batch-stock/create"])}editBatchStock(t){let n=this.encryptionService.encrypt(t.toString());this.router.navigate(["/product-batch-stock/edit",n])}deleteBatchStock(t){confirm("Are you sure you want to delete this batch stock entry? This action cannot be undone.")&&(this.isLoading=!0,this.productBatchStockService.deleteProductBatchStock(t).pipe(f(this.destroy$)).subscribe({next:n=>{n?.success?(this.snackbar.success(n.message||"Batch stock deleted successfully"),this.loadBatchStocks()):(this.snackbar.error(n?.message||"Failed to delete batch stock"),this.isLoading=!1,this.cdr.markForCheck())},error:n=>{this.snackbar.error(n?.error?.message||"Failed to delete batch stock"),this.isLoading=!1,this.cdr.markForCheck()}}))}formatNumber(t){return t==null?"0.00":Number(t).toFixed(2)}static{this.\u0275fac=function(n){return new(n||i)(p(Y),p(G),p(R),p(q),p(D),p($),p(pt),p(F))}}static{this.\u0275cmp=B({type:i,selectors:[["app-product-batch-stock-list"]],decls:37,vars:16,consts:[[1,"batch-stock-container"],[3,"show"],["aria-labelledby","search-batch-stock-heading",1,"search-section","card"],["id","search-batch-stock-heading"],[1,"fas","fa-boxes"],[1,"section-description"],["role","search","aria-label","Batch stock search form",3,"ngSubmit","formGroup"],[1,"search-controls"],[1,"form-group"],["for","batch-search",1,"sr-only"],["id","batch-search","type","text","formControlName","search","placeholder","Search by batch name or product name...","aria-label","Search batch stock",1,"form-control",3,"touchstart"],["for","product-filter",1,"sr-only"],[1,"product-select-group"],["id","product-filter","formControlName","productId","labelKey","name","valueKey","id",3,"options","defaultOption","placeholder","searchPlaceholder"],["type","button","title","Refresh Products","aria-label","Refresh products list",1,"btn","btn-sm","btn-primary","refresh",3,"click","touchstart","disabled"],[1,"fas",3,"ngClass"],[1,"button-group"],["type","submit","aria-label","Search batch stock",1,"search-btn","btn","btn-sm","btn-primary",3,"touchstart"],[1,"fas","fa-search"],["type","button","aria-label","Reset search filters",1,"search-btn","btn","btn-sm","btn-secondary",3,"click","touchstart"],[1,"fas","fa-undo"],["type","button","class","search-btn btn btn-sm btn-success","aria-label","Add new batch stock",3,"click","touchstart",4,"ngIf"],["aria-labelledby","batch-stock-heading",1,"batch-stock-list","card"],["id","batch-stock-heading"],[1,"fas","fa-list"],["class","results-info",4,"ngIf"],["class","no-results",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"currentPage","pageSize","totalElements","pageSizeOptions","pageChange","pageSizeChange",4,"ngIf"],["type","button","aria-label","Add new batch stock",1,"search-btn","btn","btn-sm","btn-success",3,"click","touchstart"],[1,"fas","fa-plus"],[1,"results-info"],[1,"no-results"],[4,"ngIf"],[1,"table-responsive"],["role","table","aria-label","Batch stock inventory list",1,"table"],["scope","col",1,"sortable",3,"click"],["aria-hidden","true",1,"fas",3,"ngClass"],["scope","col",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["scope","col"],["role","row"],["data-label","No"],["data-label","Batch Name"],["data-label","Product Name"],["data-label","Remaining Quantity"],[1,"quantity-badge","remaining"],["data-label","Blocked Quantity"],[1,"quantity-badge","blocked"],["data-label","Total Quantity"],[1,"quantity-badge","total"],["class","actions","data-label","Actions",4,"ngIf"],["data-label","Actions",1,"actions"],["aria-label","Edit batch stock entry","title","Edit",1,"btn-icon","edit",3,"click","touchstart"],["aria-hidden","true",1,"fas","fa-edit"],["aria-label","Delete batch stock entry","title","Delete",1,"btn-icon","delete",3,"click","touchstart"],["aria-hidden","true",1,"fas","fa-trash"],[3,"pageChange","pageSizeChange","currentPage","pageSize","totalElements","pageSizeOptions"]],template:function(n,e){n&1&&(o(0,"div",0),l(1,"app-loader",1),o(2,"section",2)(3,"h1",3),l(4,"i",4),a(5," Product Batch Stock Management "),c(),o(6,"p",5),a(7," Manage batch-wise product stock inventory with comprehensive filtering and search capabilities. "),c(),o(8,"form",6),g("ngSubmit",function(m){return e.onSearch(m)}),o(9,"div",7)(10,"div",8)(11,"label",9),a(12,"Search batch stock"),c(),o(13,"input",10),g("touchstart",function(m){return m.stopPropagation()}),c()(),o(14,"div",8)(15,"label",11),a(16,"Filter by product"),c(),o(17,"div",12),l(18,"app-searchable-select",13),o(19,"button",14),g("click",function(){return e.refreshProducts()})("touchstart",function(m){return m.stopPropagation()}),l(20,"i",15),c()()(),o(21,"div",16)(22,"button",17),g("touchstart",function(m){return m.stopPropagation()}),l(23,"i",18),a(24," Search "),c(),o(25,"button",19),g("click",function(){return e.resetForm()})("touchstart",function(m){return m.stopPropagation()}),l(26,"i",20),a(27," Reset "),c(),C(28,xt,3,0,"button",21),c()()()(),o(29,"section",22)(30,"h2",23),l(31,"i",24),a(32," Batch Stock Inventory "),c(),C(33,wt,11,3,"p",25)(34,Bt,3,1,"p",26)(35,Qt,31,8,"div",27)(36,Nt,1,4,"app-pagination",28),c()()),n&2&&(r(),d("show",e.isLoading),r(7),d("formGroup",e.searchForm),r(10),O("is-invalid",!1),d("options",e.products)("defaultOption",ot(15,vt))("placeholder","Filter by Product")("searchPlaceholder","Search products..."),r(),d("disabled",e.isLoadingProducts),r(),d("ngClass",e.isLoadingProducts?"fa-spinner fa-spin":"fa-sync-alt"),r(8),d("ngIf",e.canManageStock),r(5),d("ngIf",e.totalElements>0),r(),d("ngIf",e.totalElements===0&&!e.isLoading),r(),d("ngIf",e.totalElements>0),r(),d("ngIf",e.totalPages>0))},dependencies:[L,ct,Q,A,N,T,z,V,j,S,y,U],styles:[".batch-stock-container[_ngcontent-%COMP%]{padding:2rem;position:relative;min-height:200px;background-color:var(--background)}.batch-stock-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#fff;border-radius:0;box-shadow:0 2px 4px #0000001a;margin-bottom:20px;padding:20px}.batch-stock-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .batch-stock-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:var(--text-primary);font-weight:600;display:flex;align-items:center;gap:.5rem}.batch-stock-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .batch-stock-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary)}.batch-stock-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.batch-stock-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.batch-stock-container[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:1.5rem;font-size:.95rem;line-height:1.6}.batch-stock-container[_ngcontent-%COMP%]   .results-info[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:1rem;font-size:.9rem}.batch-stock-container[_ngcontent-%COMP%]   .results-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.batch-stock-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{color:var(--text-secondary);text-align:center;padding:2rem;font-style:italic}.batch-stock-container[_ngcontent-%COMP%]   .sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;align-items:flex-start}@media (max-width: 768px){.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]{grid-template-columns:1fr}}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin:0}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:40px}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .product-select-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:flex-start}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .product-select-group[_ngcontent-%COMP%]   app-searchable-select[_ngcontent-%COMP%]{flex:1}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .product-select-group[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{width:42px;height:42px;padding:0;display:flex;align-items:center;justify-content:center;border:1px solid var(--border-color);border-radius:var(--border-radius);background:var(--primary);color:#fff;margin-top:3px}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .product-select-group[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary);opacity:.9}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .product-select-group[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}@media (max-width: 768px){.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{grid-column:1/-1}}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:120px;height:42px;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .2s ease;touch-action:manipulation;-webkit-tap-highlight-color:transparent;cursor:pointer;white-space:nowrap;padding:.5rem 1rem}@media (max-width: 576px){.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100%;flex:1 1 100%}}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.batch-stock-container[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button.btn-success[_ngcontent-%COMP%]{min-width:150px;height:45px;font-size:.95rem;font-weight:500}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;font-weight:600;vertical-align:middle}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;position:relative;padding-right:1.5rem}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]:hover{background-color:#0000000d}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);font-size:.875rem;color:var(--text-secondary)}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .quantity-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:4px;font-weight:500;font-size:.9rem}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .quantity-badge.remaining[_ngcontent-%COMP%]{background-color:#28a7451a;color:#28a745}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .quantity-badge.blocked[_ngcontent-%COMP%]{background-color:#ffc1071a;color:#ffc107}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .quantity-badge.total[_ngcontent-%COMP%]{background-color:#1458811a;color:var(--primary)}@media (max-width: 768px){.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;border:1px solid #dee2e6;border-radius:4px;padding:.5rem}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem;border:none;border-bottom:1px solid #f0f0f0}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:var(--text-primary)}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:none}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]{justify-content:flex-start;flex-wrap:wrap;gap:.5rem}.batch-stock-container[_ngcontent-%COMP%]   .batch-stock-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]:before{display:none}}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-start;flex-wrap:wrap}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;border-radius:6px;transition:all .2s ease;display:flex;align-items:center;justify-content:center;touch-action:manipulation;-webkit-tap-highlight-color:transparent;min-width:36px;min-height:36px}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-icon.edit[_ngcontent-%COMP%]{color:var(--primary);background-color:#1458811a}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-icon.edit[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--primary);color:#fff;transform:translateY(-1px)}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-icon.edit[_ngcontent-%COMP%]:disabled{color:var(--text-secondary);background-color:#0000000d;cursor:not-allowed}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]{color:#dc3545;background-color:#dc35451a}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff;transform:translateY(-1px)}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:active{transform:translateY(0)}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 768px){.batch-stock-container[_ngcontent-%COMP%]{padding:1rem}.batch-stock-container[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.batch-stock-container[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .batch-stock-container[_ngcontent-%COMP%]   .search-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.batch-stock-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:1rem}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{padding:6px}.batch-stock-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 576px){.batch-stock-container[_ngcontent-%COMP%]{padding:.75rem}.batch-stock-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.batch-stock-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}}"],changeDetection:0})}}return i})();function Tt(i,b){if(i&1&&(o(0,"div",41),a(1),c()),i&2){let t=h();r(),P(" ",t.getFieldError("batchName")," ")}}function zt(i,b){if(i&1&&(o(0,"div",42),a(1),c()),i&2){let t=h();r(),P(" ",t.getFieldError("productId")," ")}}function At(i,b){if(i&1&&(o(0,"div",43),a(1),c()),i&2){let t=h();r(),P(" ",t.getFieldError("remainingQuantity")," ")}}function Vt(i,b){if(i&1&&(o(0,"div",44),a(1),c()),i&2){let t=h();r(),P(" ",t.getFieldError("blockedQuantity")," ")}}var Z=(()=>{class i{constructor(t,n,e,s,m,H,J,W){this.fb=t,this.route=n,this.router=e,this.productBatchStockService=s,this.productService=m,this.snackbar=H,this.encryptionService=J,this.cdr=W,this.products=[],this.isLoading=!1,this.isSaving=!1,this.isEdit=!1,this.batchStockId=null,this.destroy$=new w,this.productMap=new Map,this.initializeForm()}ngOnInit(){this.loadProducts();let t=this.route.snapshot.paramMap.get("id");if(t){let n=this.encryptionService.decrypt(t),e=n?Number(n):NaN;e&&!isNaN(e)?(this.isEdit=!0,this.batchStockId=e,this.loadBatchStockDetails(e)):(this.snackbar.error("Invalid batch stock ID"),this.router.navigate(["/product-batch-stock"]))}this.setupQuantityCalculations()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.productMap.clear()}initializeForm(){this.batchStockForm=this.fb.group({batchName:["",[M.required,M.maxLength(100)]],productId:["",M.required],remainingQuantity:[0,[M.required,M.min(0)]],blockedQuantity:[0,[M.required,M.min(0)]],totalRemainingQuantity:[{value:0,disabled:!0}]})}setupQuantityCalculations(){this.batchStockForm.get("remainingQuantity")?.valueChanges.pipe(f(this.destroy$)).subscribe(()=>{this.calculateTotalQuantity()}),this.batchStockForm.get("blockedQuantity")?.valueChanges.pipe(f(this.destroy$)).subscribe(()=>{this.calculateTotalQuantity()})}calculateTotalQuantity(){let t=Number(this.batchStockForm.get("remainingQuantity")?.value||0),n=Number(this.batchStockForm.get("blockedQuantity")?.value||0),e=t+n;this.batchStockForm.patchValue({totalRemainingQuantity:e},{emitEvent:!1})}loadProducts(){this.isLoading=!0,this.productService.getProducts({status:"A"}).pipe(f(this.destroy$)).subscribe({next:t=>{t?.success&&t.data&&(this.products=Array.isArray(t.data)?t.data:t.data.content||[],this.buildProductMap()),this.isLoading=!1,this.cdr.markForCheck()},error:()=>{this.snackbar.error("Failed to load products"),this.isLoading=!1,this.cdr.markForCheck()}})}buildProductMap(){this.productMap.clear();for(let t of this.products)this.productMap.set(t.id,t)}refreshProducts(){this.isLoading=!0,this.productService.refreshProducts().pipe(f(this.destroy$)).subscribe({next:t=>{t?.success&&t.data&&(this.products=Array.isArray(t.data)?t.data:t.data.content||[],this.buildProductMap(),this.snackbar.success("Products refreshed successfully")),this.isLoading=!1,this.cdr.markForCheck()},error:()=>{this.snackbar.error("Failed to refresh products"),this.isLoading=!1,this.cdr.markForCheck()}})}loadBatchStockDetails(t){this.isLoading=!0,this.productBatchStockService.getProductBatchStockById(t).pipe(f(this.destroy$)).subscribe({next:n=>{let e=null;n?.success&&n.data?e=n.data:n&&(n.id||n.batchName)&&(e=n),e?(this.batchStockForm.patchValue({batchName:e.batchName||"",productId:e.productId||"",remainingQuantity:e.remainingQuantity||0,blockedQuantity:e.blockedQuantity||0,totalRemainingQuantity:e.totalRemainingQuantity||0}),this.calculateTotalQuantity()):(this.snackbar.error("Failed to load batch stock details - Invalid response format"),this.router.navigate(["/product-batch-stock"])),this.isLoading=!1,this.cdr.markForCheck()},error:n=>{this.snackbar.error(n?.error?.message||"Failed to load batch stock details"),this.isLoading=!1,this.router.navigate(["/product-batch-stock"]),this.cdr.markForCheck()}})}isFieldInvalid(t){let n=this.batchStockForm.get(t);return n?n.invalid&&(n.dirty||n.touched):!1}getFieldError(t){let n=this.batchStockForm.get(t);return!n||!n.errors?"":n.errors.required?`${this.getFieldLabel(t)} is required`:n.errors.min?`${this.getFieldLabel(t)} must be 0 or greater`:n.errors.maxlength?`${this.getFieldLabel(t)} exceeds maximum length`:"Invalid value"}getFieldLabel(t){return{batchName:"Batch Name",productId:"Product",remainingQuantity:"Remaining Quantity",blockedQuantity:"Blocked Quantity"}[t]||t}onSubmit(){if(this.batchStockForm.invalid){this.batchStockForm.markAllAsTouched();let s=document.querySelector(".is-invalid");s&&s.scrollIntoView({behavior:"smooth",block:"center"});return}this.isSaving=!0;let t=this.batchStockForm.getRawValue(),n={batchName:t.batchName.trim(),productId:Number(t.productId),remainingQuantity:Number(t.remainingQuantity)||0,blockedQuantity:Number(t.blockedQuantity)||0,totalRemainingQuantity:Number(t.totalRemainingQuantity)||0};this.isEdit&&this.batchStockId&&(n.id=this.batchStockId),(this.isEdit?this.productBatchStockService.updateProductBatchStock(n):this.productBatchStockService.createProductBatchStock(n)).pipe(f(this.destroy$)).subscribe({next:s=>{s?.success?(this.snackbar.success(s.message||`Batch stock ${this.isEdit?"updated":"created"} successfully`),this.router.navigate(["/product-batch-stock"])):(this.snackbar.error(s?.message||`Failed to ${this.isEdit?"update":"create"} batch stock`),this.isSaving=!1,this.cdr.markForCheck())},error:s=>{this.snackbar.error(s?.error?.message||`Failed to ${this.isEdit?"update":"create"} batch stock`),this.isSaving=!1,this.cdr.markForCheck()}})}onCancel(){this.router.navigate(["/product-batch-stock"])}getTotalQuantity(){let t=Number(this.batchStockForm.get("remainingQuantity")?.value||0),n=Number(this.batchStockForm.get("blockedQuantity")?.value||0);return t+n}static{this.\u0275fac=function(n){return new(n||i)(p(R),p(mt),p($),p(Y),p(G),p(q),p(D),p(F))}}static{this.\u0275cmp=B({type:i,selectors:[["app-add-product-batch-stock"]],decls:77,vars:28,consts:[[1,"add-batch-stock-container"],["routerLink","/product-batch-stock",1,"btn","btn-sm","btn-secondary","back-btn",3,"touchstart"],[1,"fas","fa-arrow-left"],[1,"form-card"],[1,"card-header"],[1,"form-title"],[1,"fas",3,"ngClass"],[1,"form-description"],["novalidate","",1,"batch-stock-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","batchName"],[1,"fas","fa-tag"],[1,"required"],["type","text","id","batchName","formControlName","batchName","placeholder","Enter batch name (e.g., BATCH-001)","maxlength","100","aria-describedby","batchName-error",1,"form-control",3,"touchstart"],["class","invalid-feedback","id","batchName-error",4,"ngIf"],["for","productId"],[1,"fas","fa-box"],[1,"select-group"],["id","productId","formControlName","productId","labelKey","name","valueKey","id","aria-describedby","productId-error",3,"options","placeholder","searchPlaceholder","disabled"],["type","button","title","Refresh Products","aria-label","Refresh products list",1,"btn","btn-sm","btn-primary","refresh",3,"click","touchstart","disabled"],["class","invalid-feedback","id","productId-error",4,"ngIf"],["for","remainingQuantity"],[1,"fas","fa-check-circle"],[1,"input-group"],["type","number","id","remainingQuantity","formControlName","remainingQuantity","placeholder","0.00","min","0","step","0.01","aria-describedby","remainingQuantity-error",1,"form-control",3,"touchstart"],["class","invalid-feedback","id","remainingQuantity-error",4,"ngIf"],[1,"form-text","text-muted"],["for","blockedQuantity"],[1,"fas","fa-ban"],["type","number","id","blockedQuantity","formControlName","blockedQuantity","placeholder","0.00","min","0","step","0.01","aria-describedby","blockedQuantity-error",1,"form-control",3,"touchstart"],["class","invalid-feedback","id","blockedQuantity-error",4,"ngIf"],["for","totalRemainingQuantity"],[1,"fas","fa-calculator"],["type","number","id","totalRemainingQuantity","formControlName","totalRemainingQuantity","readonly","","aria-label","Total quantity (calculated automatically)",1,"form-control",3,"value"],[1,"form-actions"],["type","button","aria-label","Cancel and go back",1,"btn","btn-sm","btn-secondary",3,"click","touchstart","disabled"],[1,"fas","fa-times"],["type","submit","aria-label","Save batch stock",1,"btn","btn-sm","btn-primary",3,"touchstart","disabled"],[3,"show"],["id","batchName-error",1,"invalid-feedback"],["id","productId-error",1,"invalid-feedback"],["id","remainingQuantity-error",1,"invalid-feedback"],["id","blockedQuantity-error",1,"invalid-feedback"]],template:function(n,e){n&1&&(o(0,"div",0)(1,"button",1),g("touchstart",function(m){return m.stopPropagation()}),l(2,"i",2),a(3," Back to Batch Stock "),c(),o(4,"div",3)(5,"div",4)(6,"h1",5),l(7,"i",6),a(8),c(),o(9,"p",7),a(10),c()(),o(11,"form",8),g("ngSubmit",function(){return e.onSubmit()}),o(12,"div",9)(13,"h2"),a(14,"Batch Information"),c(),o(15,"div",10)(16,"div",11)(17,"label",12),l(18,"i",13),a(19," Batch Name "),o(20,"span",14),a(21,"*"),c()(),o(22,"input",15),g("touchstart",function(m){return m.stopPropagation()}),c(),C(23,Tt,2,1,"div",16),c(),o(24,"div",11)(25,"label",17),l(26,"i",18),a(27," Product "),o(28,"span",14),a(29,"*"),c()(),o(30,"div",19),l(31,"app-searchable-select",20),o(32,"button",21),g("click",function(){return e.refreshProducts()})("touchstart",function(m){return m.stopPropagation()}),l(33,"i",6),c()(),C(34,zt,2,1,"div",22),c()()(),o(35,"div",9)(36,"h2"),a(37,"Stock Quantities"),c(),o(38,"div",10)(39,"div",11)(40,"label",23),l(41,"i",24),a(42," Remaining Quantity "),o(43,"span",14),a(44,"*"),c()(),o(45,"div",25)(46,"input",26),g("touchstart",function(m){return m.stopPropagation()}),c()(),C(47,At,2,1,"div",27),o(48,"small",28),a(49,"Available quantity for sale"),c()(),o(50,"div",11)(51,"label",29),l(52,"i",30),a(53," Blocked Quantity "),o(54,"span",14),a(55,"*"),c()(),o(56,"div",25)(57,"input",31),g("touchstart",function(m){return m.stopPropagation()}),c()(),C(58,Vt,2,1,"div",32),o(59,"small",28),a(60,"Quantity that is blocked/QC failed"),c()(),o(61,"div",11)(62,"label",33),l(63,"i",34),a(64," Total Quantity "),c(),o(65,"div",25),l(66,"input",35),c(),o(67,"small",28),a(68,"Automatically calculated: Remaining + Blocked"),c()()()(),o(69,"div",36)(70,"button",37),g("click",function(){return e.onCancel()})("touchstart",function(m){return m.stopPropagation()}),l(71,"i",38),a(72," Cancel "),c(),o(73,"button",39),g("touchstart",function(m){return m.stopPropagation()}),l(74,"i",6),a(75),c()()()()(),l(76,"app-loader",40)),n&2&&(r(7),d("ngClass",e.isEdit?"fa-edit":"fa-plus-circle"),r(),P(" ",e.isEdit?"Edit":"Add New"," Product Batch Stock "),r(2),P(" ",e.isEdit?"Update batch stock information for inventory management.":"Create a new batch stock entry to track product inventory by batch."," "),r(),d("formGroup",e.batchStockForm),r(11),O("is-invalid",e.isFieldInvalid("batchName")),r(),d("ngIf",e.isFieldInvalid("batchName")),r(8),O("is-invalid",e.isFieldInvalid("productId")),d("options",e.products)("placeholder","Select Product")("searchPlaceholder","Search products...")("disabled",e.isEdit),r(),d("disabled",e.isLoading),r(),d("ngClass",e.isLoading?"fa-spinner fa-spin":"fa-sync-alt"),r(),d("ngIf",e.isFieldInvalid("productId")),r(12),O("is-invalid",e.isFieldInvalid("remainingQuantity")),r(),d("ngIf",e.isFieldInvalid("remainingQuantity")),r(10),O("is-invalid",e.isFieldInvalid("blockedQuantity")),r(),d("ngIf",e.isFieldInvalid("blockedQuantity")),r(8),d("value",e.getTotalQuantity()),r(4),d("disabled",e.isSaving),r(3),d("disabled",e.batchStockForm.invalid||e.isSaving),r(),d("ngClass",e.isSaving?"fa-spinner fa-spin":"fa-save"),r(),P(" ",e.isSaving?"Saving...":e.isEdit?"Update Batch Stock":"Save Batch Stock"," "),r(),d("show",e.isLoading||e.isSaving))},dependencies:[L,Q,A,N,at,T,z,dt,st,V,j,gt,S,y],styles:[".add-batch-stock-container[_ngcontent-%COMP%]{padding:2rem;background-color:var(--background);min-height:calc(100vh - 200px)}.add-batch-stock-container[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-bottom:1.5rem;display:inline-flex;align-items:center;gap:.5rem;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:#fff;border-radius:0;box-shadow:0 2px 4px #0000001a;padding:2rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid var(--border-color)}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--text-primary);font-size:1.75rem;font-weight:600;display:flex;align-items:center;gap:.75rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary)}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .form-description[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:.95rem;line-height:1.6}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-primary);margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color);display:flex;align-items:center;gap:.5rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary);font-size:1rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}@media (max-width: 768px){.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin:0}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;font-weight:500;color:var(--text-primary);font-size:.95rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary);font-size:.9rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc3545;margin-left:.25rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:42px;border:1px solid var(--border-color);border-radius:var(--border-radius);padding:.5rem .75rem;font-size:.95rem;transition:all .2s ease}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary);outline:none;box-shadow:0 0 0 3px #1458811a}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[readonly][_ngcontent-%COMP%]{background-color:#f8f9fa;cursor:not-allowed}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;align-items:stretch}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:flex-start}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   app-searchable-select[_ngcontent-%COMP%]{flex:1}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{width:42px;height:42px;padding:0;display:flex;align-items:center;justify-content:center;border:1px solid var(--border-color);border-radius:var(--border-radius);background:var(--primary);color:#fff;margin-top:0}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary);opacity:.9}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .select-group[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc3545;font-size:.875rem;margin-top:.25rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{display:block;margin-top:.25rem;font-size:.875rem;color:var(--text-secondary)}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem;padding-top:1.5rem;border-top:2px solid var(--border-color)}@media (max-width: 576px){.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:150px;height:42px;display:flex;align-items:center;justify-content:center;gap:.5rem;font-weight:500;transition:all .2s ease;touch-action:manipulation;-webkit-tap-highlight-color:transparent}@media (max-width: 576px){.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;min-width:100%}}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}@media (max-width: 768px){.add-batch-stock-container[_ngcontent-%COMP%]{padding:1rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:1.5rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 576px){.add-batch-stock-container[_ngcontent-%COMP%]{padding:.75rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:1rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{font-size:1.25rem}.add-batch-stock-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .batch-stock-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{gap:1rem}}"],changeDetection:0})}}return i})();var jt=[{path:"",component:_t},{path:"create",component:Z},{path:"edit/:id",component:Z}],bt=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=E({type:i})}static{this.\u0275inj=I({imports:[x.forChild(jt),x]})}}return i})();var he=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=E({type:i})}static{this.\u0275inj=I({imports:[it,lt,x,bt,S,y,U]})}}return i})();export{he as ProductBatchStockModule};
